(this["webpackJsonpra-9.2"]=this["webpackJsonpra-9.2"]||[]).push([[0],{32:function(n,e,t){},33:function(n,e,t){},43:function(n,e,t){"use strict";t.r(e);var r,o=t(0),c=t.n(o),a=t(24),i=t.n(a),s=(t(32),t(33),t(6)),p=t(4),d=t(11),l=t(2),x=t(3),b=t.p+"static/media/Loading_icon.1a32f552.gif",u=t(1),h=x.a.img(r||(r=Object(l.a)(["\n  width: 100px;\n  height: 100px;\n"])));function j(){return Object(u.jsx)(h,{src:b,alt:"Loading"})}var f=t(9),g=t.n(f),O=t(12);var v,m,w,k,y,S=t(17),C=t.n(S),z=x.a.div(v||(v=Object(l.a)(["\n  display: flex;\n  justify-content: flex-end;\n  background-color: white;\n  padding: 10px;\n  margin-bottom: 30px;\n  box-shadow: 4px 4px 8px 0px rgba(34, 60, 80, 0.2);\n\n  a {\n    font-size: inherit;\n    padding: 10px;\n    cursor: pointer;\n    color: white;\n    background-color: #7171ff;\n    text-decoration: none;\n  }\n"])));function E(){return Object(u.jsx)(z,{children:Object(u.jsx)(s.b,{to:"/new",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u041f\u043e\u0441\u0442"})})}var T,L,N=x.a.ul(m||(m=Object(l.a)(["\n  a {\n    display: block;\n    text-decoration: none;\n    color: inherit;\n  }\n\n  a:not(:first-child) {\n    margin-top: 15px;\n  }\n"]))),J=x.a.li(w||(w=Object(l.a)(["\n  padding: 10px;\n  box-shadow: 4px 4px 8px 0px rgba(34, 60, 80, 0.2);\n  background-color: white;\n\n  :not(:first-child) {\n    margin-top: 15px;\n  }\n\n  img {\n    height: 40px;\n  }\n"]))),P=x.a.div(k||(k=Object(l.a)(["\n  color: blue;\n"]))),D=x.a.p(y||(y=Object(l.a)(["\n  white-space: pre-wrap;\n  font-weight: bold;\n\n  ::before {\n    content: '';\n    display: block;\n    width: 95%;\n    height: 2px;\n    margin: 10px auto;\n    background-color: #808080;\n  }\n"])));function F(){var n=function(n,e){var t=Object(o.useState)(""),r=Object(d.a)(t,2),c=r[0],a=r[1],i=Object(o.useState)(""),s=Object(d.a)(i,2),p=s[0],l=s[1],x=Object(o.useState)(!1),b=Object(d.a)(x,2),u=b[0],h=b[1];return Object(o.useEffect)((function(){!function(){var t=Object(O.a)(g.a.mark((function t(){var r,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),l(""),t.prev=2,t.next=5,fetch(n,e);case 5:if(200===(r=t.sent).status){t.next=8;break}throw new Error("Network error: "+r.status+" - "+r.statusText);case 8:if(!r.ok){t.next=15;break}return t.next=11,r.json();case 11:if(o=t.sent){t.next=14;break}throw new Error("parsing error");case 14:a(o);case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(2),l(t.t0),a("");case 21:return t.prev=21,h(!1),t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[2,17,21,24]])})));return function(){return t.apply(this,arguments)}}()()}),[e,n]),[u,p,c]}("https://ra-9-2--server.herokuapp.com/posts"),e=Object(d.a)(n,3),t=e[0],r=e[1],c=e[2],a=function(n){localStorage.setItem("selectedPost",n.target.closest("a").dataset.data)};return Object(u.jsxs)("div",{children:[Object(u.jsx)(E,{}),t&&Object(u.jsx)(j,{}),r&&Object(u.jsx)("div",{children:r.message}),c&&Object(u.jsx)(N,{children:c.map((function(n){return Object(u.jsx)(s.b,{to:"/posts/".concat(n.id),"data-data":JSON.stringify(n),onClick:a,children:Object(u.jsxs)(J,{children:[Object(u.jsx)("img",{src:n.avatar,alt:n.name}),Object(u.jsx)(P,{children:n.name}),Object(u.jsx)("span",{children:C()(n.created).fromNow()}),Object(u.jsx)(D,{children:n.content})]})},n.id)}))})]})}var I=x.a.div(T||(T=Object(l.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  box-shadow: 4px 4px 8px 0px rgba(34, 60, 80, 0.2);\n  background-color: white;\n\n  a {\n    align-self: flex-end;\n    font-size: inherit;\n    padding: 10px;\n    cursor: pointer;\n    color: white;\n    background-color: #7171ff;\n    text-decoration: none;\n  }\n\n  a.close {\n    position: absolute;\n    right: 20px;\n    top: 20px;\n    font-size: inherit;\n    padding: 10px;\n    cursor: pointer;\n    color: #c0c0c0;\n    background-color: inherit;\n    border-style: none;\n  }\n\n  .empty {\n    border-color: red;\n  }\n"]))),B=x.a.textarea(L||(L=Object(l.a)(["\n  width: 100%;\n  padding: 15px;\n  padding-right: 40px;\n  font-size: 1.5rem;\n  resize: none;\n  margin-bottom: 15px;\n  border: 1px solid rgb(202, 202, 202);\n"])));function R(){var n=Object(o.useRef)(null),e=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://ra-9-2--server.herokuapp.com/posts",{method:"POST","Content-Type":"application/json",body:JSON.stringify({id:0,content:n.current.value})});case 3:if((t=e.sent).ok){e.next=6;break}throw new Error(t.statusText);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){n.current.focus()}),[]),Object(u.jsxs)(I,{children:[Object(u.jsx)(s.b,{to:"/",className:"close",children:"X"}),Object(u.jsx)(B,{ref:n,rows:"10"}),Object(u.jsx)(s.b,{to:"/",onClick:function(t){n.current.value||(t.preventDefault(),n.current.classList.contains("empty"))?e():n.current.classList.add("empty")},children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]})}var X,A,M,_,q,G,H,K,Q=t(22),U=x.a.div(X||(X=Object(l.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  box-shadow: 4px 4px 8px 0px rgba(34, 60, 80, 0.2);\n  background-color: white;\n\n  a {\n    align-self: flex-end;\n    font-size: inherit;\n    padding: 10px;\n    cursor: pointer;\n    color: white;\n    background-color: #7171ff;\n    text-decoration: none;\n  }\n\n  a.close {\n    position: absolute;\n    right: 20px;\n    top: 20px;\n    font-size: inherit;\n    padding: 10px;\n    cursor: pointer;\n    color: #c0c0c0;\n    background-color: inherit;\n    border-style: none;\n  }\n\n  .empty {\n    border-color: red;\n  }\n"]))),V=x.a.textarea(A||(A=Object(l.a)(["\n  width: 100%;\n  padding: 15px;\n  padding-right: 40px;\n  font-size: 1.5rem;\n  resize: none;\n  margin-bottom: 15px;\n  border: 1px solid rgb(202, 202, 202);\n"]))),W=x.a.button(M||(M=Object(l.a)(["\n  position: absolute;\n  right: 20px;\n  top: 20px;\n  font-size: inherit;\n  padding: 10px;\n  cursor: pointer;\n  color: #c0c0c0;\n  background-color: inherit;\n  border-style: none;\n"])));function Y(n){var e=Object(o.useRef)(null),t=Object(o.useState)(n.content),r=Object(d.a)(t,2),c=r[0],a=r[1],i=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://ra-9-2--server.herokuapp.com/posts",{method:"POST","Content-Type":"application/json",body:JSON.stringify({id:n.id,content:c})});case 3:if((t=e.sent).ok){e.next=6;break}throw new Error(t.statusText);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)(U,{children:[Object(u.jsx)("h3",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0441\u0442"}),Object(u.jsx)(W,{onClick:function(){n.onClose()},children:"X"}),Object(u.jsx)(V,{ref:e,rows:"10",value:c,onChange:function(n){a(n.target.value)}}),Object(u.jsx)(s.b,{to:"/",onClick:function(n){e.current.value||(n.preventDefault(),e.current.classList.contains("empty"))?i():e.current.classList.add("empty")},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})}var Z,$=x.a.li(_||(_=Object(l.a)(["\n  padding: 10px;\n  box-shadow: 4px 4px 8px 0px rgba(34, 60, 80, 0.2);\n  background-color: white;\n\n  :not(:first-child) {\n    margin-top: 15px;\n  }\n\n  img {\n    height: 40px;\n  }\n"]))),nn=x.a.div(q||(q=Object(l.a)(["\n  display: flex;\n  justify-content: flex-end;\n\n  a {\n    margin-left: 10px;\n    font-size: inherit;\n    padding: 10px;\n    cursor: pointer;\n    color: white;\n    background-color: #ff0000;\n    text-decoration: none;\n  }\n"]))),en=x.a.div(G||(G=Object(l.a)(["\n  color: blue;\n"]))),tn=x.a.p(H||(H=Object(l.a)(["\n  white-space: pre-wrap;\n  font-weight: bold;\n\n  ::before {\n    content: '';\n    display: block;\n    width: 95%;\n    height: 2px;\n    margin: 10px auto;\n    background-color: #808080;\n  }\n"]))),rn=x.a.button(K||(K=Object(l.a)(["\n  font-size: inherit;\n  padding: 10px;\n  cursor: pointer;\n  color: white;\n  background-color: #7171ff;\n  text-decoration: none;\n"])));function on(n){var e=Object(o.useState)(!1),t=Object(d.a)(e,2),r=t[0],c=t[1],a=function(){c(!r)},i=JSON.parse(localStorage.getItem("selectedPost")),p=function(){var n=Object(O.a)(g.a.mark((function n(e){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat("https://ra-9-2--server.herokuapp.com/posts","/").concat(e.target.id),{method:"DELETE"});case 3:if((t=n.sent).ok){n.next=6;break}throw new Error(t.statusText);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}();return r?Object(u.jsx)(Y,Object(Q.a)(Object(Q.a)({},n),{},{id:i.id,content:i.content,onClose:a})):Object(u.jsxs)($,{children:[Object(u.jsx)("img",{src:i.avatar,alt:i.name}),Object(u.jsx)(en,{children:i.name}),Object(u.jsx)("span",{children:C()(i.created).fromNow()}),Object(u.jsx)(tn,{children:i.content}),Object(u.jsxs)(nn,{children:[Object(u.jsx)(rn,{onClick:a,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(u.jsx)(s.b,{to:"/",id:i.id,onClick:p,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})}var cn=x.a.div(Z||(Z=Object(l.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  box-shadow: 4px 4px 8px 0px rgba(34, 60, 80, 0.2);\n  background-color: white;\n\n  a {\n    align-self: center;\n    font-size: inherit;\n    padding: 10px;\n    cursor: pointer;\n    color: white;\n    background-color: #7171ff;\n    text-decoration: none;\n  }\n"])));function an(){return Object(u.jsx)(cn,{children:Object(u.jsx)(s.b,{to:"/",children:"\u041d\u0430 \u0413\u043b\u0430\u0432\u043d\u0443\u044e"})})}var sn=function(){return Object(u.jsx)(s.a,{children:Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(p.c,{children:[Object(u.jsx)(p.a,{path:"/new",component:R}),Object(u.jsx)(p.a,{path:"/posts/:id",component:on}),Object(u.jsx)(p.a,{path:"/",exact:!0,component:F}),Object(u.jsx)(p.a,{path:"*",exact:!0,component:an})]})})})},pn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,44)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,c=e.getLCP,a=e.getTTFB;t(n),r(n),o(n),c(n),a(n)}))};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(sn,{})}),document.getElementById("root")),pn()}},[[43,1,2]]]);
//# sourceMappingURL=main.a8ee59eb.chunk.js.map